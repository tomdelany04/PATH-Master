---
title: Predictive Approaches to Treatment Effect Heterogeneity
author:
  - name: Tom Delany
  - name: Misgana Ojamo
    affil: 1
affiliation:
  - num: 1
    address: School of Mathematical and Statistical Sciences, University of Galway
logoleft_name: https&#58;//sport.universityofgalway.ie/assets/img/logo2.png

poster_height: "594mm"
poster_width: "841mm"
column_numbers: 4
column_margins: "0.5in"	
primary_colour:	"#a80050"	# Secondary colour use for poster design.
secondary_colour:	"#84003d"	# Main colour used for poster design.
accent_colour:	"#e6007e"	# A third colour option.
author_textcol: "white"
title_textsize: "60pt"
author_textsize: "40pt"
body_textsize: "20pt"
output: 
  posterdown::posterdown_html:
    self_contained: true
    pandoc_args: --mathjax
    number_sections: false
knit: pagedown::chrome_print
---

```{css, echo=FALSE}
div.logo_left{
  width: 20%;
}
div.poster_title{
  width: 80%;
}
.section h4 {
    break-after: column;
}
div.footnotes {
    font-size: 18pt;
}
```

<!-- Don't change anything above, except the title and author names, unless you know what you are doing. -->

```{r, include=FALSE}
knitr::opts_chunk$set(echo = FALSE,
                      warning = FALSE,
                      tidy = FALSE,
                      message = FALSE,
                      fig.align = 'center',
                      out.width = "100%")
options(knitr.table.format = "html") 
# Load any additional libraries here
library(tidyverse)
library(plotly)
library(kableExtra)
```

# Background and Problem

<!-- You can add references by inserting the following ^[reference details here] -->

• Relying on average trial effects ignores that real patients differ in demographics, disease severity, and behaviors (HTE) [^1].

• Traditional subgroup analyses (one variable at a time) have low power, high false positives, and aren’t truly patient-centred.

• Predictive approaches to treatment effect heterogeneity (PATH) model risk and treatment effects to estimate individual patient outcomes across treatments [^2].

[^1]: Kent et al. 2020, doi: 10.7326/M18-3668
[^2]: Willke et al. 2012, doi: 10.1186/1471-2288-12-185

## Objectives of Project

1.  Implement and evaluate predictive HTE models across multiple clinical datasets
2.  Compare risk-based and effects-based approaches in practice
3.  Assess the clinical relevance and reporting implications of PATH analyses

# Data Sources and Datasets
Analyses are based on published clinical trial data from the GUSTO-I trial [^3] and the Digitalis Investigation Group trial [^4]. 

[^3]: The GUSTO investigators, 1993, doi: 10.1056/NEJM199309023291001
[^4]: The Digitalis Investigation Group, Feb. 1997, doi: 10.1056/NEJM199702203360801

<!-- This #### below causes the columns to break -->

<!-- You can change where you put these breaks, and the "column_numbers: 4" argument in the YAMLS header to change the layout of the poster, with care! -->

#### 

# Early Results / Descriptive Statistics of Datasets

You can reference tables like so: Table \@ref(tab:mytable). Some basic summaries of the dataset are below:

```{r mytable, out.width='80%'}

```

Figure \@ref(fig:standard-plot), and Figure \@ref(fig:morefigs) below show the patterns in our dataset. Make sure that all the details in your plots will be legible when printed (legend text, axis text, and any labels)

```{r standard-plot, out.width='80%', fig.align='center', fig.cap='Great figure!', fig.height=4}
ggplot(mpg, aes(displ, hwy, colour = class)) + 
  geom_point()
```



You can even make your plots interactive for the HTML version of the poster. You can use the HTML poster for the presentation session, and the PDF poster will be printed - so be sure the static version looks okay.

```{r fig-forest, echo=FALSE, fig.cap="Figure 3: Forest plot of treatment heterogeneity", out.width="100%", fig.align="center"}

library(metafor)
par(mar=c(4,4,1,2))
### fit random-effects model (use slab argument to define "study" labels)
res <- rma(ai=tevent, bi=tnoevent, ci=cevent, di=cnoevent, data=data.subgroups, measure="OR",
           slab=name, method="ML")

### set up forest plot (with 2x2 table counts added); rows argument is used
### to specify exactly in which rows the outcomes will be plotted)
par(fg="maroon")
forest(res, xlim=c(-8, 2.5), at=log(c(0.5, 1)), alim=c(log(0.2), log(2)), atransf=exp,
       ilab=cbind(data.subgroups$tn, data.subgroups$pt, data.subgroups$cn, data.subgroups$pc),
       ilab.xpos=c(-5,-4,-3,-2), adj=1,
       cex=.9, ylim=c(0, 24),
       rows=c(1:2, (4:5)-.5, 6:7, 10:13, 15),
       xlab="", mlab="", psize=1, lwd = 1.5, addfit=F,
       col = "maroon",
       shade = F)

text(c(-5,-4,-3,-2, 2.2), 18, c("n", "%mort", "n", "%mort", "OR    [95% CI]"),
     font=2, adj=1, cex=.9)
text(-8, 18, c("GUSTO-I trial"), font=2, adj=0, cex=.9)
text(c(-4.5,-2.5),  19, c("tPA", "SK"), font=2, adj=1)

```

Above is a Forest Plot which display the PATH (risk-based) subgroups alongside traditional subgroups (Age, Sex, Location of MI). Low risk according to the linear predictor (lp<-2.36) implies low benefit (<1%); higher risk, higher benefit (>2%).

```{r fig-proportional, echo=FALSE, fig.cap="Figure 4: Absolute treatment benefit increases with baseline risk", out.width="100%", fig.align="center"}

knitr::include_graphics("absolute_benefit.png")

```


#### 

# Next Project Steps

We plan to conduct further analysis using:

-   Variable discombobulation [^3]
-   Expand our minds with explosive machine learning [^4].


We will use the `plasticanalysis` package for this.


# GitHub

The code and datasets for this project can be viewed at our GitHub repository here: <https://github.com/tomdelany04/PATH-Master/>



# References



